<html>
  <head>
    <title>Hoist AR Demo</title>
    <meta charset="utf8">
    <meta name="viewport" content="width=device-width, user-scalable=no">

    <!-- Styles -->
    <link rel="stylesheet" href="style.css">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;500&display=swap" rel="stylesheet">

    <!-- Dependency to view 3D models -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <script src="assets/draco_encoder.js"></script>
    <script src="assets/draco_decoder.js"></script>
    
  </head>
  <body>
    <div class="content">
      <model-viewer orientation="0 0deg 0" src="models/CUSTOM-40-PS-3E-FSS-v2.glb" alt="Mat" ar ar-modes="webxr scene-viewer quick-look" ar-scale="fixed" ar-placement="floor" environment-image="neutral" interaction-prompt="none" camera-controls disable-zoom></model-viewer>
      <button onclick="document.querySelector('model-viewer').activateAR()">Preview in your room with AR</button>
      <h1>For Tim - Custom 40</h1>
    </div>
  
    import { WebIO } from '@gltf-transform/core';
    import { DracoMeshCompression } from '@gltf-transform/extensions';
    
    const io = new WebIO()
        .registerExtensions([DracoMeshCompression])
        .registerDependencies({
            'draco3d.encoder': await new DracoEncoderModule(),
            'draco3d.decoder': await new DracoDecoderModule(),
        });
    
    // Load an uncompressed GLB file.
    const document = await io.read('./assets/Duck.glb');
    
    // Configure compression settings.
    document.createExtension(DracoMeshCompression)
        .setRequired(true)
        .setEncoderOptions({
            method: DracoMeshCompression.EncoderMethod.EDGEBREAKER,
            encodeSpeed: 5,
            decodeSpeed: 5,
        });
    
    // Create compressed GLB, in an ArrayBuffer.
    const arrayBuffer = await io.writeBinary(document); // Promise<ArrayBuffer>
  </body>
</html>
